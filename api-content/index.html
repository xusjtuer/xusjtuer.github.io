{"posts":[{"title":"蓝图实现任意类型数组排序","content":"蓝图实现任意类型数组排序 Implementation of wildcard array sort in blueprint 1. Overview ​本教程旨在讲解在虚幻引擎(UE4)蓝图中实现任意类型的数组排序，也就是Array of Wildcard（通配符）类型数组排序的实现。本教程基于选择排序（Selection Sort）和冒泡排序（Bubble Sort）原理，在蓝图中实现了对任意类型数组（Generic TArray）的排序蓝图节点。 2. Required Knowledge ​ (1) 基本熟悉ue4，了解蓝图宏库（Blueprint Macro Library）的创建方法； ​ (2) Selection Sort 和 Bubble Sort 排序原理； 3. Why ​UE4并未对数组（TArray）提供排序的通用蓝图节点，而对于数组的排序可以说是开发中无可避免的问题。虽然在C++中可以轻易调用C++标准库的排序算法，并使用UFUNCTION(BlueprintCallable)，将其暴露给蓝图，但是这种情况下，每一种类型的数据都要定义一个C++版排序函数。对于随时新增加的类型（UStruct/UObject派生类） 这种方式即增加了非必要、无法通用的代码，又增加了冗余。 如果可以用一个节点来完成对任意类型数组排序，显然有极大的好处。 此外，虽然可以在c++使用（通配符）来实现数组排序，但是其实现过程较为复杂、繁琐，门框过高。还可能存在通用性问题，无法对int，float，struct，object及其派生类（Actor）等都适用。 4. Sort Approach （1）创建蓝图宏库，鼠标右键-&gt;Blueprints-&gt;Blueprint Macro Library -&gt;All Classes-&gt;Object，以UObject作为蓝图宏库的基类。 （2）My Blueprint窗口，Add New创建二个宏Select Sort、Bubble Sort； （3）选择排序（Select Sort） Description： 选择排序(详情请查阅选择排序方法) bGreater=( Array[min] &gt;Array[i] ) ? true : false; 将Array[min]与Array[i]成员的大小比较结果连接上bGreater(pin) 内部循环根据bGreater(bool)值判断是否交换Array[min]与Array[i]成员位置 排序结束，返回有序数组 图1. 选择排序细节面板，（Array Pin 勾选Pass-by-Reference，以引用方式传递数据）； 选择排序（Selection Sort）蓝图宏实现方法 图2. 选择排序蓝图宏； （4）冒泡排序（Bubble Sort） ​ Description：冒泡排序(详情请查阅冒泡排序方法) ​ bGreater=( Array[j] &gt;Array[j+1] ) ? true : false; ​ 将Array[j]与Array[j+1]的大小比较结果连接上bGreater(pin) ​ 内部循环根据bGreater(bool)值判断是否交换Array[j]与Array[j+1]成员位置 ​ 排序结束，返回有序数组 图3. 冒泡排序细节面板，（Array Pin 勾选Pass-by-Reference，以引用方式传递数据）； 冒泡排序（Bubble Sort）蓝图宏实现方法! 图4. 冒泡排序蓝图宏； 5. Usage （1）以上第4步完成，即可任意蓝图中，context menu中输入sort关键词即可查找二个节点； 图5. 从蓝图中查找Bubble Sort/Selection Sort节点； （2）任意类型连接示例，以Bubble Sort节点为例，并随意选取Actor、Struct、Float、Int类型数组； 图6. 不同类型数组排序示例； （3）排序节点连接方式示例，（数组元素类型必须包含可排序得变量，如float/int类型变量）； 图7. Item数组排序示例，Score变量为本例排序指定关键字； （4）排序方向，升序/降序示例 图8. a. 返回升序数组； 图9.b. 返回降序数组； （5）二个以上排序变量蓝图引脚连接示例，这种情况最好自定义一个排序方法（Pure），如下图所示 图10. 蓝图引脚连接示例； 图11. 二个排序排序变量，大小比较方法示例，并该函数设置成Pure； 6. Shortage 由于冒泡排序和选择排序本身就属于低效的排序算法，此外相较于c++，蓝图执行效率差得多，因此以上二个蓝图排序宏节点只适合于长度较小的数组排序（length&lt;100）。若数组长度超过一定值时，执行以上排序节点程序会直接停止运行，并显示以下错误提示。 LogScript: Warning: Runaway loop detected (over 1,000,000 iterations) - see log for stack trace BP_HttpActotr_C /Game/Maps/UEDPIE_0_BeginMap.BeginMap:PersistentLevel.BP_HttpActotr_2 Function /Game/Blueprints/BP_HttpActotr.BP_HttpActotr_C:ExecuteUbergraph_BP_HttpActotr:0250 PIE: Error: Infinite loop detected. Blueprint: BP_HttpActotr Function: Branch Call Stack: Show 7. Conclusion 原创文章，未经允许，禁止转载 ","link":"https://xusjtuer.github.io/post/ue4-dong-tai-du-xie-datatable-shu-ju-biao/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://xusjtuer.github.io/post/hello-gridea/"}]}